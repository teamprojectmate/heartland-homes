@use '../abstract/variables' as *;

// Breakpoints / media helper

@mixin media($bp) {
  @if $bp == sm {
    @media (min-width: $breakpoint-sm) {
      @content;
    }
  } @else if $bp == md {
    @media (min-width: $breakpoint-md) {
      @content;
    }
  } @else if $bp == lg {
    @media (min-width: $breakpoint-lg) {
      @content;
    }
  } @else if $bp == xl {
    @media (min-width: $breakpoint-xl) {
      @content;
    }
  } @else {
    @media (min-width: $breakpoint-md) {
      @content;
    }
  }
}

// Shadows

@mixin card-shadow {
  box-shadow: $box-shadow-card;
}

@mixin card-shadow-hover {
  box-shadow: $box-shadow-card-hover;
}

@mixin card-shadows($shadow) {
  box-shadow: $shadow;
}

@mixin card-shadow-transition {
  transition:
    box-shadow 0.3s cubic-bezier(0.25, 0.8, 0.25, 1),
    transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

@mixin button-shadow-transition {
  transition:
    box-shadow 0.3s cubic-bezier(0.25, 0.8, 0.25, 1),
    transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

@mixin button-shadow-hover {
  box-shadow: $box-shadow-button-hover;
}

// Typography helpers

@mixin heading($size: 1.5rem, $weight: 700, $color: $heading-color) {
  font-size: $size;
  font-weight: $weight;
  line-height: 1.2;
  color: $color;
}

// Layout helpers

@mixin make-col($size, $gap: 1rem) {
  $w: calc((100% / #{$size}) - #{$gap});

  flex: 0 0 $w;
  max-width: $w;
}

@mixin flex-center($direction: row) {
  display: flex;
  flex-direction: $direction;
  align-items: center;
  justify-content: center;
}

// Screen reader only

@mixin sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  white-space: nowrap;
  border: 0;
  clip: rect(0, 0, 0, 0);
}

// Link underline indicator

@mixin underline($color: $primary-color, $thickness: 3px, $radius: 99px, $offset: 10px) {
  position: relative;

  &::after {
    position: absolute;
    right: 0;
    bottom: -#{$offset};
    left: 0;
    height: $thickness;
    content: '';
    background: transparent;
    border-radius: $radius;
    transform: scaleX(0);
    transform-origin: left;
    transition:
      transform 0.2s ease,
      background-color 0.2s ease;
  }

  &:hover::after,
  &.active::after {
    background: $color;
    transform: scaleX(1);
  }
}

// Badge helpers

@mixin badge-base {
  display: inline-flex;
  gap: 0.35rem;
  align-items: center;
  padding: 0.35rem 0.75rem;
  font-size: 0.85rem;
  font-weight: 600;
  color: $white-color;
  border-radius: $radius-sm;
  box-shadow: $box-shadow-sm;
  transition: transform 0.2s ease;

  &:hover {
    transform: translateY(-2px);
  }
}

// Navigation links

@mixin nav-link-base {
  display: flex;
  gap: 10px;
  align-items: center;
  font-size: 1rem;
  font-weight: 600;
  color: $heading-color;
  text-decoration: none;
  border-radius: 10px;
  transition:
    background 0.25s ease,
    color 0.25s ease;

  &:hover {
    color: $primary-color;
    background: $gray-100;
  }

  &.active {
    color: $primary-color;
    background: $gray-200;
  }
}

// Text clamp (автоматична висота під рядки)

@mixin line-clamp($lines: 2, $font-size: $font-size-base, $line-height: 1.3) {
  display: -webkit-box;
  min-height: calc(#{$font-size} * #{$line-height} * #{$lines});
  overflow: hidden;
  text-overflow: ellipsis;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
}
