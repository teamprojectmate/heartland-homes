// src/styles/components/_buttons.scss
@use '../abstract/variables' as *;
@use '../abstract/mixins' as *;
@use 'sass:color';
@use 'sass:map';

/* ───────── core ───────── */
%btn {
  display: inline-flex;
  gap: 0.5rem;
  align-items: center;
  justify-content: center;
  min-height: clamp(#{$control-height-sm}, 5.5vw, 48px);
  padding: 0.68rem 1.1rem;
  font-size: clamp(0.95rem, 0.9rem + 0.2vw, 1rem);
  font-weight: 800;
  line-height: 1;
  letter-spacing: 0.2px;
  text-decoration: none;
  appearance: none;
  cursor: pointer;
  border-radius: $radius;
  transition:
    transform 0.08s ease,
    box-shadow 0.15s ease,
    background-color 0.15s ease,
    color 0.15s ease,
    border-color 0.15s ease,
    filter 0.15s ease;

  &:hover {
    filter: brightness(0.98);
  }

  &:active {
    transform: translateY(1px);
  }

  &:disabled,
  &[aria-disabled='true'] {
    pointer-events: none;
    cursor: not-allowed;
    opacity: 0.6;
  }
}

/* ───────── variants via map (класи) ───────── */
@each $variant, $map in $button-variants {
  .btn-#{$variant} {
    @extend %btn;

    color: map.get($map, fg);
    background: map.get($map, bg);
    border: 1px solid map.get($map, bd);
    box-shadow: $box-shadow-button;

    &:hover {
      background: map.get($map, hover-bg);

      @include button-shadow-hover;
    }
  }
}

/* ───────── sizes ───────── */
.btn-sm {
  @extend %btn;

  min-height: clamp(36px, 5vw, 40px);
  padding: 0.45rem 0.75rem;
  font-size: 0.92rem;
}

.btn-lg {
  @extend %btn;

  min-height: clamp(48px, 6vw, 56px);
  padding: 0.9rem 1.35rem;
  font-size: 1.05rem;
}

.btn-pill {
  @extend %btn;

  border-radius: 999px;
}

/* ───────── icon button ───────── */
.btn-icon {
  @extend %btn;

  width: 32px;
  height: 32px;
  padding: 0;
  border-radius: $radius-sm;
  box-shadow: none;

  svg {
    width: 18px;
    height: 18px;
  }
}

/* ───────── media ───────── */
@media (prefers-reduced-motion: reduce) {
  .btn {
    transition: none !important;
  }
}

@media (max-width: $breakpoint-xs) {
  .btn {
    box-shadow: 0 4px 10px rgb(16 24 40 / 10%);
  }
}
